# Language Switching - Visual User Guide

## ğŸŒ How to Switch Languages

This guide shows how users can switch between Chinese (ä¸­æ–‡) and English in the Agent Bot.

---

## ğŸ“± Main Menu - Chinese (Default)

When a new user first interacts with the bot, they see the interface in Chinese:

```
ğŸ‰ æ¬¢è¿ä½¿ç”¨ åå—ä»£ç†æœºå™¨äººï¼

ğŸ‘¤ ç”¨æˆ·ä¿¡æ¯
â€¢ ID: 123456789
â€¢ ç”¨æˆ·å: @testuser
â€¢ æ˜µç§°: Test User

è¯·é€‰æ‹©åŠŸèƒ½ï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ›ï¸ å•†å“ä¸­å¿ƒ      â”‚ ğŸ‘¤ ä¸ªäººä¸­å¿ƒ      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ’° å……å€¼ä¸­å¿ƒ      â”‚ ğŸ“¦ è´­ä¹°è®°å½•      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ å®¢æœæ”¯æŒ      â“ ä½¿ç”¨å¸®åŠ©      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      ğŸŒ åˆ‡æ¢è¯­è¨€ (ä¸­æ–‡)          â”‚ â† Language Toggle
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Switching to English

**Step 1:** User clicks on "ğŸŒ åˆ‡æ¢è¯­è¨€ (ä¸­æ–‡)"

**Step 2:** System processes the language change:
- Current language: `zh` (Chinese)
- New language: `en` (English)
- Updates database: `user.lang = "en"`
- Shows confirmation: "ğŸŒ Language â†’ English"

**Step 3:** Menu refreshes automatically in English

---

## ğŸ“± Main Menu - English

After switching, the user sees:

```
ğŸ‰ Welcome to South China Agent Bot!

ğŸ‘¤ User Information
â€¢ ID: 123456789
â€¢ Username: @testuser
â€¢ Name: Test User

Please select a function:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ›ï¸ Products     â”‚ ğŸ‘¤ Profile       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ’° Recharge     â”‚ ğŸ“¦ Orders        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ Support      â“ Help           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      ğŸŒ Language (English)       â”‚ â† Language Toggle
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ›ï¸ Products Page Comparison

### Chinese Version:
```
ğŸ›ï¸ å•†å“åˆ†ç±»

è¯·é€‰æ‹©å•†å“åˆ†ç±»ï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”¥äºŒæ‰‹TGåè®®å·              â”‚
â”‚ åº“å­˜: 150 | 15ä¸ªå•†å“        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœˆï¸ã€1-8å¹´ã€‘åè®®è€å·         â”‚
â”‚ åº“å­˜: 80 | 8ä¸ªå•†å“          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“± Instagramè´¦å·            â”‚
â”‚ åº“å­˜: 45 | 6ä¸ªå•†å“          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    ğŸ”™ è¿”å›åˆ†ç±»
```

### English Version:
```
ğŸ›ï¸ Product Categories

Please select a product category:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”¥Second-hand TG Protocol  â”‚
â”‚ Stock: 150 | 15 items      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœˆï¸ã€1-8yrã€‘Old Protocol    â”‚
â”‚ Stock: 80 | 8 items        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“± Instagram Accounts      â”‚
â”‚ Stock: 45 | 6 items        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   ğŸ”™ Back to Categories
```

---

## ğŸ›’ Purchase Flow Comparison

### Chinese - Product Detail:
```
ğŸ·ï¸ å•†å“è¯¦æƒ…

ğŸ·ï¸ å•†å“: TGåè®®å· [3-8å¹´]
ğŸ’° ä»·æ ¼: 15.50U
ğŸ“¦ åº“å­˜: 50
ğŸ“‚ åˆ†ç±»: åè®®å·
ğŸ’¼ ç¼–å·: ABC123456

        ğŸ›’ ç«‹å³è´­ä¹°
```

### English - Product Detail:
```
ğŸ·ï¸ Product Details

ğŸ·ï¸ Product: TG Protocol [3-8yr]
ğŸ’° Price: 15.50U
ğŸ“¦ Stock: 50
ğŸ“‚ Category: Protocol
ğŸ’¼ ID: ABC123456

        ğŸ›’ Buy Now
```

---

## ğŸ’° Recharge Center Comparison

### Chinese Version:
```
ğŸ’° å……å€¼ä¸­å¿ƒ

è¯·é€‰æ‹©å……å€¼é‡‘é¢æˆ–è¾“å…¥è‡ªå®šä¹‰é‡‘é¢ï¼š

æœ€ä½å……å€¼ï¼š10U

â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚ 10U  â”‚ 20U  â”‚ 50U  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚ 100U â”‚ 200U â”‚ 500U â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜

    ğŸ“ è‡ªå®šä¹‰é‡‘é¢
    ğŸ“œ å……å€¼è®°å½•
    ğŸ  ä¸»èœå•
```

### English Version:
```
ğŸ’° Recharge Center

Please select an amount or enter a custom amount:

Minimum recharge: 10U

â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚ 10U  â”‚ 20U  â”‚ 50U  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚ 100U â”‚ 200U â”‚ 500U â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜

    ğŸ“ Custom Amount
    ğŸ“œ Recharge History
    ğŸ  Main Menu
```

---

## âœ… Purchase Confirmation Comparison

### Chinese:
```
ğŸ›’ ç¡®è®¤è´­ä¹°

å•†å“: TGåè®®å·
æ•°é‡: 5
å•ä»·: 15.50U
æ€»è®¡: 77.50U
ä½™é¢: 100.00U
å‰©ä½™: 22.50U

  âœ… ç¡®è®¤è´­ä¹°   âŒ å–æ¶ˆ
```

### English:
```
ğŸ›’ Confirm Purchase

Product: TG Protocol
Quantity: 5
Unit Price: 15.50U
Total: 77.50U
Balance: 100.00U
Remaining: 22.50U

  âœ… Confirm Purchase   âŒ Cancel
```

---

## ğŸ“Š Admin Panel Comparison (For Admins Only)

### Chinese - Price Management:
```
ğŸ’° ä»·æ ¼ç®¡ç†ï¼ˆç¬¬1é¡µï¼‰

TGåè®®å· [3-8å¹´]
æ€»éƒ¨:15U  åŠ ä»·:0.50U  ä»£ç†ä»·:15.50U  åˆ©æ¶¦ç‡:3.3%  åº“:50

Instagramè´¦å·
æ€»éƒ¨:8U  åŠ ä»·:1.00U  ä»£ç†ä»·:9.00U  åˆ©æ¶¦ç‡:12.5%  åº“:30

    ğŸ“ ç¼–è¾‘
  â¬…ï¸ ä¸Šä¸€é¡µ  â¡ï¸ ä¸‹ä¸€é¡µ
      ğŸ  ä¸»èœå•
```

### English - Price Management:
```
ğŸ’° Price Management (Page 1)

TG Protocol [3-8yr]
HQ:15U  Markup:0.50U  Agent Price:15.50U  Profit Rate:3.3%  Stock:50

Instagram Account
HQ:8U  Markup:1.00U  Agent Price:9.00U  Profit Rate:12.5%  Stock:30

    ğŸ“ Edit
  â¬…ï¸ Previous  â¡ï¸ Next
     ğŸ  Main Menu
```

---

## ğŸ¯ Key Features

### âœ… Persistent Preference
- Language choice is saved to the database
- Preference remains even after closing the chat
- Each user can have their own language preference

### âœ… Instant Switch
- No need to restart the bot
- UI updates immediately
- Confirmation message shows in the new language

### âœ… Complete Coverage
All features support both languages:
- Main menu navigation
- Product browsing and purchase
- Recharge and payment
- Order history
- Customer support
- Help documentation
- Admin panels (price management, reports, profit center)
- Error messages and notifications

### âœ… Template Support
Dynamic content is translated correctly:
- "è¯·è¾“å…¥è´­ä¹°æ•°é‡ï¼ˆåº“å­˜ï¼š50ï¼‰ï¼š" â†’ "Please enter quantity (Stock: 50):"
- "æ€»è®¢å•æ•°ï¼š125" â†’ "Total Orders: 125"
- "è®¢å•å·ï¼šABC123" â†’ "Order ID: ABC123"

---

## ğŸ”§ Technical Details

### Default Language
- New users start with the default language (configurable)
- Set via `AGENT_DEFAULT_LANG` environment variable
- Default: `zh` (Chinese)

### Database Storage
```javascript
// User document
{
  "user_id": 123456789,
  "username": "testuser",
  "lang": "en",  // â† Language preference
  // ... other fields
}
```

### Supported Languages
- `zh` - Chinese (ä¸­æ–‡) ğŸ‡¨ğŸ‡³
- `en` - English ğŸ‡¬ğŸ‡§

---

## ğŸ’¡ Usage Tips

1. **For New Users:**
   - Send `/start` to begin
   - Default language will be Chinese (or configured default)
   - Look for "ğŸŒ åˆ‡æ¢è¯­è¨€" button to switch

2. **To Switch Language:**
   - Click the language toggle button at the bottom of main menu
   - Menu refreshes automatically
   - Preference is saved permanently

3. **Multi-User Support:**
   - Each user can choose their own language
   - User A can use Chinese while User B uses English
   - Language choice is independent per user

4. **Admin Features:**
   - All admin panels support both languages
   - Price management, reports, profit center all translated
   - System messages appear in admin's chosen language

---

## ğŸ“š Additional Resources

- **Implementation Guide:** `agent/LANGUAGE_SWITCHING_GUIDE.md`
- **Verification Report:** `LANGUAGE_SWITCHING_VERIFICATION.md`
- **Test Suite:** `test_language_switching.py`

---

## âœ¨ Summary

The language switching feature provides a complete bilingual experience:
- âœ… Easy one-click toggle
- âœ… Persistent user preferences
- âœ… 280 translation keys covering all features
- âœ… Template parameter support for dynamic content
- âœ… Immediate UI refresh
- âœ… Independent per-user language choice

**The bot is production-ready with full Chinese/English bilingual support!** ğŸš€
